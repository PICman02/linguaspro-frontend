(function () {  const token = localStorage.getItem("token") || sessionStorage.getItem("token");  const adminToken = localStorage.getItem("admin_token");  if (!token && !adminToken) return;  let role = adminToken ? "Admin" : "aluno";  let hasUser = false;  try {   const raw = localStorage.getItem("user") || sessionStorage.getItem("user");   if (raw) {    const parsed = JSON.parse(raw);    role = parsed?.role || role;    hasUser = Boolean(parsed?.email);   }  } catch {   role = adminToken ? "Admin" : "aluno";  }  if (!hasUser) return;  const dashboard =   role === "Admin"    ? "dashboard-admin.html"    : role === "professor"    ? "dashboard-professor.html"    : "dashboard-aluno.html";  const loginLinks = Array.from(   document.querySelectorAll('a[href="login.html"], a[href="./login.html"]')  ).filter((link) => /login|entrar/i.test(link.textContent || ""));  loginLinks.forEach((link) => {   link.setAttribute("href", dashboard);   const html = link.innerHTML;   if (/login|entrar/i.test(html)) {    link.innerHTML = html.replace(/login|entrar/i, "Dashboard");   } else {    link.textContent = "Dashboard";   }  });  const loginButton = document.getElementById("openLoginModal");  if (loginButton) {   loginButton.textContent = "Dashboard";   loginButton.onclick = () => {    window.location.href = dashboard;   };  } })();
